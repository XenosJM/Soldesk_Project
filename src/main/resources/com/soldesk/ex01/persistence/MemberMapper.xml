<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soldesk.ex01.persistence.MemberMapper">
	
	<resultMap type="com.soldesk.ex01.domain.MemberVO"
		id="memberResultMap">
		<id property="memberId" column="MEMBER_ID" />
		<result property="memberName" column="MEMBER_NAME" />
		<result property="memberPassword" column="MEMBER_PASSWORD" />
		<result property="managerId" column="MANAGER_ID" />
		<result property="memberEmail" column="MEMBER_EMAIL" />
		<result property="memberProperty" column="MEMBER_PROPERTY" />
		<result property="memberRegistDate" column="MEMBER_REGISTDATE" />
	</resultMap>
	<!-- 회원 가입 -->
	<insert id="insert"> INSERT INTO MEMBER (MEMBER_ID, MEMBER_NAME, MEMBER_PASSWORD, MANAGER_ID, MEMBER_EMAIL, MEMBER_PROPERTY, MEMBER_REGISTDATE)
	 VALUES (MEMBER_SEQ.NEXTVAL, #{memberName}, #{memberPassword}, #{managerId}, #{memberEmail}, #{memberProperty}, SYSDATE)
	</insert>
	<!-- 회원 자기정보 보기 -->
	<select id="selectByMemberId" resultMap="memberResultMap"> SELECT * FROM MEMBER
		WHERE MEMBER_ID = #{memberId} </select>
	<!-- 회원 리스트 -->
	<select id="selectIdList" resultType="Integer"> SELECT MEMBER_ID FROM
		MEMBER </select>
		<!-- 회원 정보 수정 -->
	<update id="update"> UPDATE MEMBER SET MEMBER_PASSWORD =
		#{memberPassword}, MEMBER_EMAIL = #{memberEmail} WHERE MEMBER_ID =
		#{memberId} </update>
		<!-- 회원 자산? 수정 -->
	<update id="updateProperty"> UPDATE MEMBER SET MEMBER_PROPERTY =
		#{memberProperty} WHERE MEMBER_ID = #{memberId} </update>
		<!-- 회원 관리자 자격 수정 -->
	<update id="updateManager"> UPDATE MEMBER SET MANAGER_ID = #{managerId} WHERE
		MEMBER_ID = #{memberId} </update>
		<!-- 회원 삭제(탈퇴) -->
	<delete id="delete"> DELETE FROM MEMBER WHERE MEMBER_ID = #{memberId}
	</delete>
</mapper>